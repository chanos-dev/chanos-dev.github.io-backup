I"“<h2 id="-ê°ì²´-ìƒì„±-"><center> ê°ì²´ ìƒì„± </center></h2>

<hr />

<ul>
  <li>C#ì—ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì. ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ì´ ìˆì§€ë§Œ ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œ ì†Œê°œí•  ë°©ë²•ì€ Activator, Assembly,  FormatterServicesí´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ìƒì„±í•˜ëŠ” ë°©ë²•ì´ë‹¤.</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- ActivatorëŠ” í´ë˜ìŠ¤ ë©”ì„œë“œì¸ CreateInstanceë¥¼ ì‚¬ìš©í•œë‹¤.


- AssemblyëŠ” ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì¸ CreateInstanceë¥¼ ì‚¬ìš©í•œë‹¤.


- FormatterServicesëŠ” í´ë˜ìŠ¤ ë©”ì„œë“œì¸ GetUnititializedObjectë¥¼ ì‚¬ìš©í•œë‹¤.
</code></pre></div></div>

<ul>
  <li>
    <p>FormatterServices ê°™ì€ ê²½ìš°ëŠ” ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë©”ëª¨ë¦¬ì— í• ë‹¹í•˜ì§€ë§Œ ê·¸ ê°ì²´ì— ëŒ€í•˜ì—¬ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë‚˜ ê·¸ ê°ì²´ì˜ ëª¨ë“  ë°ì´í„°ëŠ” null ë˜ëŠ” 0ìœ¼ë¡œ ì´ˆê¸°í™”ê°€ ëœë‹¤.<br />
ë°˜ë©´ Activatorì™€ AssemblyëŠ” ìƒì„±ìê°€ ìˆì–´ì•¼í•˜ê³ , ê³ ë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ë„˜ê²¨ ìƒì„±í•  ìˆ˜ ìˆë‹¤. publicì´ ì•„ë‹Œ ìƒì„±ìëŠ” BindingFlagsë¥¼ ì´ìš©í•´ì•¼í•œë‹¤.</p>
  </li>
  <li>
    <p>Assembly.CreateInstanceë¥¼ ë””ì»´íŒŒì¼ëŸ¬ë¡œ ê¹Œë³´ë©´ ê²°êµ­ì—” Activatorë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
  </li>
</ul>

<p><a href="http://localhost:4000/images/posts/2021-06-07/assembly.png"><img src="http://localhost:4000/images/posts/2021-06-07/assembly.png" alt="assembly" /></a></p>

<ul>
  <li>
    <p>ìœ„ ë°©ë²•ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì€, ëŸ°íƒ€ì„ì—ì„œ ê°ì²´ì˜ íƒ€ì… ë˜ëŠ” ê°ì²´ ì´ë¦„ì„ ìŠ¤íŠ¸ë§ íƒ€ì…ìœ¼ë¡œ ê°€ì§€ê³ ë§Œ ìˆì–´ë„ ìƒì„±ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ë‹¤.</p>
  </li>
  <li>
    <p>ê·¸ë ‡ë‹¤ë©´ Activatorì™€ Assemblyë¥¼ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì°¨ì´ì ì´ ì¡´ì¬í•˜ëŠ”ë°, ActivatorëŠ” ë‹¤ë¥¸ ì–´ì…ˆë¸”ë¦¬ë¥¼ ë¡œë“œì‹œì¼œ ëª¨ë‘ ë¦¬í”Œë ‰ì…˜ì„ í•  ìˆ˜ ìˆê³ (ê°ì²´ Type ë˜ëŠ” AssemNameë§Œ ì•ˆë‹¤ë©´), AssemblyëŠ” í˜„ì¬ ë¡œë“œí•œ(ë„ë©”ì¸, ì–´ì”ë¸”ë¦¬) ë‚´ì—ì„œë§Œ(Assemblyì˜ CreateInstance ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê¸° ì „ì— Assemblyë¥¼ ë¡œë“œí•œë‹¤.) ë¦¬í”Œë ‰ì…˜ì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.</p>
  </li>
  <li>
    <p>ì‚¬ìš©
```c#
// No parameter
// 1. Activator
var person_instance1 = Activator.CreateInstance(typeof(Person));
Console.WriteLine(person_instance1);</p>
  </li>
</ul>

<p>// 2. Assembly
var assem = Assembly.GetExecutingAssembly();
var typeName = assem.DefinedTypes.Where(val =&gt; val.Name == nameof(Person)).FirstOrDefault().FullName;
var person_instance2 = assem.CreateInstance(typeName, true);
Console.WriteLine(person_instance2);</p>

<p>// 3. FormaterServices 
var person_instance3 = FormatterServices.GetUninitializedObject(typeof(Person));
Console.WriteLine(person_instance3);</p>

<p>// Parameter
var parameter1 = new object[] { â€œí™ê¸¸ë™â€, 30 };
var parameter2 = new object[] { â€œê³ ê¸¸ë™â€, 35 };</p>

<p>var person_instance4 = Activator.CreateInstance(typeof(Person), BindingFlags.Public | BindingFlags.Instance, null, parameter1, CultureInfo.CurrentCulture, null);
Console.WriteLine(person_instance4);</p>

<p>var person_instance5 = assem.CreateInstance(typeName, true, BindingFlags.Public | BindingFlags.Instance, null, parameter2, CultureInfo.CurrentCulture, null);
Console.WriteLine(person_instance5);</p>

<p>// class
class Person
{
    public string Name { get; set; }
    public int Age { get; set; }</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public Person(string name, int age)
{
    Name = name;
    Age = age;
}
 
public Person() : this("admin", 999)
{
 
}
 
public override string ToString() =&gt; $"Name : {Name}, Age : {Age}"; }   ```
</code></pre></div></div>

<ul>
  <li>ê²°ê³¼
<a href="http://localhost:4000/images/posts/2021-06-07/result.png"><img src="http://localhost:4000/images/posts/2021-06-07/result.png" alt="result" /></a></li>
</ul>

<hr />

<h2 id="reference">Reference</h2>

<p><a href="https://docs.microsoft.com/ko-kr/dotnet/api/system.reflection.assembly.createinstance?view=netcore-3.1" target="_blank">Activator í´ë˜ìŠ¤ (System)</a></p>

<p><a href="https://docs.microsoft.com/ko-kr/dotnet/api/system.runtime.serialization.formatterservices?view=netcore-3.1" target="_blank">FormatterServices í´ë˜ìŠ¤ (System.Runtime.Serialization)</a></p>

<p><a href="https://docs.microsoft.com/ko-kr/dotnet/api/system.activator?view=netcore-3.1" target="_blank">Assembly.CreateInstance ë©”ì„œë“œ (System.Reflection)</a></p>
:ET